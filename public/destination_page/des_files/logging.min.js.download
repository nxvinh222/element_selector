var hostLoging="https://log.hhcorp.vn",DeviceType;function getDevice(){var ua=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(ua)?DeviceType.Tablet:/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(ua)?DeviceType.Mobile:DeviceType.Desktop}!function(DeviceType){DeviceType[DeviceType.Desktop=0]="Desktop",DeviceType[DeviceType.Mobile=1]="Mobile",DeviceType[DeviceType.Tablet=2]="Tablet"}(DeviceType||(DeviceType={}));var ClientUtils=function(){function ClientUtils(){}return ClientUtils.prototype.getUserID=function(){var cookieName="imf.log.cname",user=this.getCookie(cookieName);return void 0===user&&(user=this.guid(),this.setCookie(cookieName,user,3e3)),user},ClientUtils.prototype.guid=function(){function s4(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()},ClientUtils.prototype.setCookie=function(c_name,value,exdays){var exdate=new Date;exdate.setDate(exdate.getDate()+exdays);var c_value=escape(value)+(null===exdays?"":";path=/; expires="+exdate.toUTCString());document.cookie=c_name+"="+c_value},ClientUtils.prototype.createCookie=function(name,value){var date=new Date;date.setTime(date.getTime()+18e5);var expires="; expires="+date.toUTCString();document.cookie=name+"="+value+expires+"; path=/"},ClientUtils.prototype.getCookie=function(c_name){var i,x,y,ARRcookies=document.cookie.split(";");for(i=0;i<ARRcookies.length;i++)if(x=ARRcookies[i].substr(0,ARRcookies[i].indexOf("=")),y=ARRcookies[i].substr(ARRcookies[i].indexOf("=")+1),(x=x.replace(/^\s+|\s+$/g,""))===c_name)return unescape(y)},ClientUtils.prototype.deleteCookie=function(c_name){this.setCookie(c_name,"",-1)},ClientUtils}(),AnalyticsData=function(){function AnalyticsData(){}return AnalyticsData}(),data=new AnalyticsData;data.DeviceType=getDevice(),data.FullUrl=window.location.href,data.RelativeUrl=window.location.pathname,data.ReferUrl=document.referrer,data.Resolution=window.screen.availWidth+"x"+window.screen.availHeight,data.UserID=(new ClientUtils).getUserID(),data.ArticleId="undefined"==typeof ObjectID?"":ObjectID;var headers={type:"application/json"},blob=new Blob([JSON.stringify(data)],headers);window.onload=function(){navigator.sendBeacon(hostLoging+"/collect",blob)},document.addEventListener("visibilitychange",(function logData(){"hidden"===document.visibilityState?navigator.sendBeacon(hostLoging+"/leave",blob):navigator.sendBeacon(hostLoging+"/collect",blob)}));